## Комп'ютерні системи імітаційного моделювання
## СПм-23-4, **Гудзинський Іван Вікторович**
### Лабораторна робота №**3**. Використання засобів обчислювального интелекту для оптимізації імітаційних моделей

<br>

### Варіант 6, модель у середовищі NetLogo:
[Rabbits Grass Weeds](http://www.netlogoweb.org/launch#http://www.netlogoweb.org/assets/modelslib/Sample%20Models/Biology/Rabbits%20Grass%20Weeds.nlogo). Класична модель "заячого лугу".


<br>

#### Вербальний опис моделі:
Ускладнена версія моделі [Rabbits Grass Weeds](http://www.netlogoweb.org/launch#http://www.netlogoweb.org/assets/modelslib/Sample%20Models/Biology/Rabbits%20Grass%20Weeds.nlogo). Додано функціонал отруєння з певним шансом від поїдання бур'яну, а також розділення популяції зайців на самців та самок, з відповідними змінами в процесі розмноження.

Повний код моделі зі змінами: [`rabbits-grass-weeds-updated.nlogo`](rabbits-grass-weeds-updated.nlogo)

### Керуючі параметри:
- **initial-rabbit-count** - початкова кількість агентів виду "rabbit", тобто зайців в симуляції
- **birth-threshold** - порогове значення енергії необхідної зайцям для можливості розмножитись
- **grass-grow-rate** - показник частоти появлення на полі плиток зеленого кольору, тобто інтенсивність росту трави. Шанс появлення трави на кожній плитці поля розраховується індивідуально як 1000/grass-grow-rate
- **grass-energy** - кількість енергії що заяць отримає за поїдання трави
- **weeds-grow-rate** - показник частоти появлення на полі бур'янів. Обробляється аналогічно з grass-grow-rate, тільки впливає на появлення фіолетових плиток (бур'янів)
- **weeds-energy** - кількість енергії що заяць отримає за поїдання бур'янів
- **weeds-sickness-chance** - шанс захворювання від поїдання бур'янів
- **sick-tick-energy-cost** - втрати енергії за один тік перебування в хворому стані

#### Показники роботи модеі:
- популяція зайців на поточному такті
- середня популяція зайців за весь час роботи моделі

<br>

### Налаштування середовища BehaviorSearch:

**Обрана модель**:
[`rabbits-grass-weeds-updated.nlogo`](rabbits-grass-weeds-updated.nlogo)

**Параметри моделі** (вкладка Model):  
```
["grass-grow-rate" [0 1 20]]
["weeds-grow-rate" [0 1 20]]
["grass-energy" [0 0.5 10]]
["weed-energy" [0 0.5 10]]
["initial-rabbit-count" 100]
["birth-threshold" [0 1 20]]
["weeds-sickness-chance" [0 1 100]]
["sick-tick-energy-cost" [0 0.5 4]]
```

Вихідна кількість зайців була виставлена в 100 вручну щоб мінімізувати випадковість поведінки моделі на старті.

Використовувана **міра**:  
Для фітнес-функції було обрано **загальну популяцію зайців**, вираз для її розрахунку взято з налаштувань графіка аналізованої імітаційної моделі в середовищі NetLogo та вказано у параметрі "**Measure**":

`count rabbits`

![image](https://github.com/user-attachments/assets/1f2d06ec-43bb-4251-864d-0b9be643b227)


**Налаштування цільової функції** (вкладка Search Objective):  
Метою підбору параметрів імітаційної моделі є **максимізація** значення середньої популяції – це вказано через параметр "**Goal**" зі значенням **Maximize Fitness**. При цьому цікавить не просто популяція зайців у якийсь окремий момент симуляції, а середнє її значення за всю симуляцію. Для цього у параметрі "**Collected measure**", що визначає спосіб обліку значень обраного показника, вказано **MEAN_ACROSS_STEPS**.  
Щоб уникнути викривлення результатів через випадкові значення, що використовуються в логіці самої імітаційної моделі, **кожна симуляція повторюється по 10 разів**, результуюче значення розраховується як **середнє арифметичне**. 
Загальний вигляд вкладки налаштувань цільової функції:

![image](https://github.com/user-attachments/assets/e36c5749-eeab-4e9a-9d2b-a5b5bedd65d2)

**Налаштування алгоритму пошуку** (вкладка Search Algorithm):

<br>

### Результати використання BehaviorSearch:
Результат пошуку параметрів імітаційної моделі, використовуючи **генетичний алгоритм**:  
![image](https://github.com/user-attachments/assets/ce101b45-c283-4507-9efa-986901c91c74)

Результат пошуку параметрів імітаційної моделі, використовуючи **випадковий пошук**:  
![image](https://github.com/user-attachments/assets/437a8cb0-64c8-420f-9512-02f11b0cf9ba)
